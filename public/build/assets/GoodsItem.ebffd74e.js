import{l as f,d as o,a3 as V,s as b,x as s,G as c,y as v,Y as x,z as l,A as i,B as t,C as g,M as h,D as E,Q as d,U as _,O as I,_ as y}from"./vue.m.1a5bfe17.js";import{a as R}from"./goodsTypeRepository.e28ff620.js";import{i as D,a9 as T,a8 as L,d as M,a1 as S,$,Y as N}from"./Api.38888a39.js";import{a as P}from"./FormFilePicker.9a09b630.js";import{_ as F}from"./GoodsForm.38b702c0.js";import{A as j}from"./ActionButtons.c5d4e461.js";const z={key:0},G={class:"font-sm text-gray-500"},U={class:"text-stone-500"},Y={key:0},q={key:0},Z={__name:"GoodsItem",props:{goods:{type:Object},test:{type:Boolean,default:!1}},emits:["deleted"],setup(A,{emit:w}){const m=A,e=f({goods:m.goods}),C=m.test,r=o(null),u=o({});C&&!m.isRecursive&&(r.value=V(async()=>{const a=await y(()=>import("./GoodsItemTest.7fb1336e.js"),["assets/GoodsItemTest.7fb1336e.js","assets/FormTestSetting.c9f7acdf.js","assets/FormControl.8d8a1e31.js","assets/vue.m.1a5bfe17.js","assets/adminApp.15818c67.js","assets/adminApp.4b352461.css","assets/index.c46e732a.js","assets/Api.38888a39.js","assets/FormCheckRadioPicker.5c0c81e0.js","assets/testComponentStore.c98bd1e7.js"]),{useTestComponentStore:p}=await y(()=>import("./testComponentStore.c98bd1e7.js"),["assets/testComponentStore.c98bd1e7.js","assets/adminApp.15818c67.js","assets/adminApp.4b352461.css","assets/vue.m.1a5bfe17.js"]);return u.value=p(),u.value.setStateComponent(e),a}));const k=()=>{N("goods/delete","post",{id:e.goods.id}).success(a=>{w("deleted",e.goods.id)}).run()},B=[{id:"actionDelete",title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",icon:D,isActive:o(!1),click(){confirm("\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0442\u043E\u0432\u0430\u0440?")&&k()}},{id:"actionView",title:"\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440",icon:T,isActive:o(!1),click(){console.log("enable view")}},{id:"actionEdit",title:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",icon:L,isActive:o(!1),click(){console.log("enable edit")}}],n=new j(B),O=b(()=>f(e.goods.preview_of_sizes.map(a=>({imageObj:a.small.url,id:a.small.id,complete:!0}))));return(a,p)=>(s(),c(I,null,[(s(),v(x(r.value),{keyForm:"gov_goods_item"})),e.goods?(s(),v(R,{key:0,title:e.goods.name,class:"mb-2 shadow-sm",icon:t($),actionButtonManager:t(n)},{default:l(()=>[i(_,{"enter-active-class":"animate__animated animate__slideInLeft","leave-active-class":"animate__animated animate__bounceOutRight"},{default:l(()=>[t(n).refUnfocusAll?(s(),c("div",z,[i(P,{images:t(O)},null,8,["images"]),g("div",G,h(e.goods.description),1),g("div",U,[i(M,{path:t(S)},null,8,["path"]),E(" \u0426\u0435\u043D\u0430: "+h(e.goods.price),1)])])):d("",!0)]),_:1}),i(_,{"enter-active-class":"animate__animated animate__slideInLeft","leave-active-class":"animate__animated animate__bounceOutRight"},{default:l(()=>[t(n).isActive("actionView")?(s(),c("div",Y,"View")):d("",!0)]),_:1}),i(_,{"enter-active-class":"animate__animated animate__slideInLeft","leave-active-class":"animate__animated animate__bounceOutRight"},{default:l(()=>[t(n).isActive("actionEdit")?(s(),c("div",q,[i(F,{"goods-data":e.goods,class:"-mx-6"},null,8,["goods-data"])])):d("",!0)]),_:1})]),_:1},8,["title","icon","actionButtonManager"])):d("",!0)],64))}};export{Z as _};
