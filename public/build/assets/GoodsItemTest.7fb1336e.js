import{_ as l}from"./FormTestSetting.c9f7acdf.js";import"./index.c46e732a.js";import{useTestComponentStore as i}from"./testComponentStore.c98bd1e7.js";import{d as m}from"./adminApp.15818c67.js";import{Y as d}from"./Api.38888a39.js";import{d as u,k as c,x as f,y as g,B as p,i as S}from"./vue.m.1a5bfe17.js";import"./FormControl.8d8a1e31.js";import"./FormCheckRadioPicker.5c0c81e0.js";const k=m("goodsStore",{state:()=>({list:[],currentGoods:null,loading:!0,errors:null,lazyLoad:!0}),actions:{async loadGoods({id:r=0,typeList:s="singleGoods",params:n=null,forceLoad:t=!1}){if(this.lazyLoad&&!t&&this.list.length)return this.loading=!1,storage;const e={type_list:s,id:r};Object.assign(e,n),d("goods/get","post",e).success(o=>{s=="singleGoods"?this.currentGoods=o:this.list=o}).complete((o,a)=>{this.loading=!1}).fail(o=>{this.error=o,console.log("Error load a goods data",o)}).run()}}}),x={__name:"GoodsItemTest",props:{keyForm:String},setup(r){const s=i(),n=[{label:"ID \u0442\u043E\u0432\u0430\u0440\u0430",name:"goodsId",value:u("0")},{name:"submit",type:"button",label:"\u0417\u0430\u043F\u0443\u0441\u043A",role:"run",color:"success",click:e=>{const o=k();o.loadGoods({id:e.goodsId.value}),s.stateComponent.goods=c(o,"currentGoods")}}];s.setForm(n);const t=s.formSettings;return(e,o)=>(f(),g(l,{formSettings:p(t),"onUpdate:formSettings":o[0]||(o[0]=a=>S(t)?t.value=a:null),keyForm:r.keyForm},null,8,["formSettings","keyForm"]))}};export{x as default};
